<html>
    <div class="header">
        <app-toolbar></app-toolbar>
    </div>
    <div class="container">
        <div class="item">
            <mat-card id="card">
                <form [formGroup]="registerForm">
                    <mat-form-field appearance="fill">
                        <mat-label>Nombre</mat-label>
                        <input matInput formControlName="name">
                        <mat-icon matSuffix>account_circle</mat-icon>
                        <mat-error *ngIf="isValidField('name')">
                            {{getErrorMessage("name")}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Apellidos</mat-label>
                        <input matInput formControlName="lastName">
                        <mat-icon matSuffix>account_circle</mat-icon>
                        <mat-error *ngIf="isValidField('lastName')">
                            {{getErrorMessage("lastName")}}
                        </mat-error>
                    </mat-form-field>
                    
                    <mat-form-field appearance="fill">
                        <mat-label>Número telefónico</mat-label>
                        <input 
                            type="tel" 
                            matInput 
                            placeholder="numero telefónico" 
                            formControlName="phone"
                        >
                        <mat-icon matSuffix>phone_enabled</mat-icon>
                        <mat-error *ngIf="isValidField('phone')">
                            {{getErrorMessage("phone")}}
                        </mat-error>  
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Dirección electrónica</mat-label>
                        <input 
                            matInput 
                            placeholder="usuario@ejemplo.com" 
                            formControlName="email"
                        >
                        <mat-icon matSuffix>mail_outline</mat-icon>
                        <mat-error *ngIf="isValidField('email')">
                            {{getErrorMessage("email")}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Contraseña</mat-label>
                        <input 
                            matInput 
                            [type]="hide ? 'password' : 'text'" 
                            formControlName="password"
                        >
                        <button 
                            mat-icon-button 
                            matSuffix (click)="hide = !hide" 
                            [attr.aria-label]="'Hide password'" 
                            [attr.aria-pressed]="hide">
                            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <mat-error *ngIf="isValidField('password')">
                            {{getErrorMessage("password")}}
                        </mat-error>
                    </mat-form-field>
                
                    <mat-form-field appearance="fill">
                        <mat-label>confirmar contraseña</mat-label>
                        <input matInput [type]="hide ? 'password' : 'text'" 
                            formControlName="password_confirmation" 
                        >
                        <button 
                            mat-icon-button matSuffix 
                            (click)="hide = !hide" 
                            [attr.aria-label]="'Hide password'" 
                            [attr.aria-pressed]="hide">
                            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <mat-error *ngIf="isValidField('password_confirmation')">
                            {{getErrorMessage("password_confirmation")}} 
                        </mat-error>
                    </mat-form-field>
                
                    <div class="container_buttons">
                        <div class="item_buttons">
                            <button class="buttons" [disabled]="registerForm.invalid"
                                (click)="sendingData()"  
                                mat-raised-button color="primary">
                                Registrarse
                            </button>
                        </div>
                        <div class="item_buttons">
                            <button class="buttons" 
                                mat-raised-button 
                                (click)="routeLogin()" color="warn">
                                Cancelar
                            </button>
                        </div>
                    </div>
                
                </form>
            </mat-card>
        </div>
    </div>
</html>